---
title: Members
permalink: /members/
toc: false

#layout: category
#taxonomy: members
#--- collection is an alternative to the for-loop below,
#layout: collection 
#collection: members
#entries_layout: grid # list
#sort_by: affiliation
#sort_order: reverse # forward
#show_excerpts: false # true false
---

A click on the marked cities on the map bellow, reveals the institutions and companies at this particular location. The popup allows to quickly navigate to the members with a given affiliation.

<link rel="stylesheet" href="/assets/js/leaflet/leaflet.css"/>
<script src="/assets/js/leaflet/leaflet.js"></script>
<script src="/assets/js/leaflet/Leaflet.TileLayer.Swiss.umd.js" ></script>
<script src="/assets/js/leaflet/member-locations.js"></script>
<script src="/assets/js/leaflet/members-map.js"></script>

<div id="map" style="width: 100%; height: 400px"></div>
<div  style="width: 100%; height: auto; font-size: smaller"><p id="caption">
The following companies or institutions cannot be found on the map:
</p></div>

# Want to join us?
Please go back to homepage and the **join us** section

<script >
    // Get the location data that is generated by the ruby script parsing the front matter from the member pages
    // (Needs to be executed on a local machine after changes of the member pages.
    const locations = get_member_locations();
    
    // Bellow the alternative: hard code the cities and their coordinates (somewhere)
    /*
    const locations = {
        'Basel':    {'coordinates': [47.55810, 7.58782], 'affiliations': []},
        'Bern':     {'coordinates': [46.95027, 7.43777], 'affiliations': []},
        'Fribourg': {'coordinates': [46.79388, 7.15526], 'affiliations': []},
        'Geneva':   {'coordinates': [46.19904, 6.14456], 'affiliations': []},
        'Lausanne': {'coordinates': [46.52051, 6.56632], 'affiliations': []},
        'Martigny': {'coordinates': [46.10923, 7.08447], 'affiliations': []},
        'Zurich':   {'coordinates': [47.37404, 8.55097], 'affiliations': []}
    };
    */

    // Double check the data: Create json from member page front matter using liquid template.
    // (As long as no new city will appear in the member pages, this will do the trick)
    {% assign cities = site.members | map: "city" %}
    {% assign affiliations = site.members | map: "affiliation" %}
    const cities = {{ cities | jsonify }}
    const affiliations = {{ affiliations | jsonify }}
    
    cities.forEach((city, index) => {
        city = city ? city : "Unknown";
        if (!locations[city]['affiliations'].includes(affiliations[index])) {
            locations[city]['affiliations'].push(affiliations[index]);
        }
    });

    members_map([46.650, 8.335], locations)
</script>


{% assign groups = site.members |  sort: "affiliation" | group_by: "affiliation" %}

<div> 
{% for group in groups %}
	<h3 id="{{group.name}}"> {{ group.name }} </h3>
			<ol> 
			{% for member in group.items %}
				<li> <a href="{{ member.url }}"> 
				{{ member.first_name }} {{ member.last_name }}</a> </li>
			{% endfor %} 
			</ol>
{% endfor %} 
</div>
